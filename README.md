# fraud-risk-engine
***
###  Глобальная цель:
Построить антифрод-систему для онлайн-платежей, способную в реальном времени обнаруживать мошеннические транзакции и отклонять их.
### Цели проектируемой антифрод-системы в соответствии с требованиями заказчика:
* MVP должно быть готово через 3 месяца
* Полная рабочая версия антифрод-системы должна быть завершена в течение 6 месяцев.
* Бюджет затраченный на создание антифрод-системы не должен превысить 10 млн. руб. (не считая зарплат специалистам)
* Обеспечить эффективность системы не хуже 98% выявленных мошеннических транзакций(Пропускать мошенников в ≤2% случаев)
* Общий ущерб клиентов за месяц не должен превышать 500 тыс. руб.
* Система должна быть способна выдерживать пиковую нагрузку до 400 транзакций в секунду (средний уровень нагрузки 50 транзакций в секунду)
* Доля ложноположительных срабатываний (ошибочно отклонённых корректных транзакций) должна быть не более 5%.
* Система должна быть развернута в облачной инфраструктуре
* Все данные о клиентах должны быть обезличены и надёжно защищены, чтобы исключить возможность их утечки.

#### Метрики:
Positive - класс - человек  
Negative класс - мошенник  

Из условия 2 следует, что как минимум 95% корректных транзакций должны быть определены как корректные (то есть TP), максимум 5% транзакций коректных определены как некорректные (FN).   
Соответственно здесь подходит метрика Recall = TP/(TP+FN) (>=0.98)   

Из условия 4 следует, что 98% транзакций принадлежащих положительному классу (человек) должны быть определены как положительные (человек) - TP. И только максимум 2% мошенников могут быть ошибочно опрелены как человек (negative class опреден как Positive по ошибке) - FP.   
Cоответстенно, в данном случае лучше подходит метрика precision = TP/(TP+FP) (>=0.95)

Можно использвать F-score, чтобы учесть обе метрики. **Но учитывая несбалансированность классов лучше выбрать метрику PR-AUC**.   

**А так же необходимо учитывать ограничение на сумму по всем пропущенным мошенническим транзакциям (ущерб не должен превышать 500 тыс руб в месяц.)**

### Mission Canvas:
**Key Partners**: Облачные провайдеры (например Yandex Cloud)     
**Activities**: аренда и настройка облачной инфраструктуры, подготовка данных, разработка и обучение модели, тестирование, развертывание, настройка мониторинга
Resources: облачные ресурсы, транзакции клиентов (csv), безопасные каналы доступа к данным, модели и ML-инструментарий      
**Value propositions**: Повышенная безопасность онлайн-платежей, минимизация негативного клиентского опыта   
**Buy-in & Support**: бизнес-аналитики, Data Scientist-ы, ML-инженеры, разработчики, cпециалисты по информационной безопасности   
**Deployment**:  
- Коннектор (для взаимодействия между antifraud-моделью и реальной платёжной системой компании);
- Инференс-сервис (или Docker-контейнер с моделью);
- СХД; 
- мониторинг (например Grafana);
- CI/CD пайплайн (выкатка новых версий модели, Контроль версий, Автотесты перед деплоем)   

**Beneficiaries**: 1. клиенты платежной системы 2. финансовая компания 3. инвесторы
Budget / cost: Общий бюджет проекта (без учёта зарплат специалистов): не более 10 млн руб    

**Mission Achievement / Impact factors**: 
- Доля выявленных мошеннических транзакций ≥ 98%
- False Positive Rate ≤ 5% среди легитимных транзакций
- Суммарный финансовый ущерб клиентов ≤ 500 тыс. руб. в месяц
- Обработка до 400 транзакций в секунду
- Соблюдение требований по безопасности и защите ПДн
- Соблюдение сроков: MVP через 3 месяца, полный запуск через 6


### Задачи:

- Подготовка данных:
    - Поиск проблем в данных
    - Подготовка скрипта для очистки данных
- Разработка модели (проведение ресерча, выбор модели, обучение)
- Настройка облачной инфраструктуры:
    - Создать облачное S3-хранилище проекта и Настроить безопасное копирование данных с корпоративного S3
    - Развертывание HDFS-кластера
    - Разработка inference-сервиса и коннектора к платёжной системе
- Проведение нагрузочного тестирования
- Деплой модели
- Настройка мониторинга